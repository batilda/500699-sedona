var bookingBtn=document.querySelector(".booking__btn");var searchBtn=document.querySelector(".search__btn");var bookingForm=document.querySelector(".booking__form");var bookingFormClosed=true;var bookingArrival=document.querySelector(".booking__input[name=arrival-date]");var bookingDeparture=document.querySelector(".booking__input[name=departure-date]");var bookingAdults=document.querySelector(".booking__input[name=booking-adults]");var bookingChildren=document.querySelector(".booking__input[name=booking-children]");var bookingFields=[bookingArrival,bookingDeparture,bookingAdults,bookingChildren];var isStorageSupport=true;var storageArrival,storageDeparture,storageAdults,storageChildren;var i;bookingForm.classList.add("js-booking__modal");try{storageArrival=localStorage.getItem("bookingArrival");storageDeparture=localStorage.getItem("bookingDeparture");storageAdults=localStorage.getItem("bookingAdults");storageChildren=localStorage.getItem("bookingChildren")}catch(err){isStorageSupport=false}if(storageArrival){bookingArrival.value=storageArrival}if(storageDeparture){bookingDeparture.value=storageDeparture}if((storageAdults)&&(storageAdults!="0")){bookingAdults.value=storageAdults}if(storageChildren){bookingChildren.value=storageChildren}function removeErrorsFromInputs(a){for(i=0;i<a.length;i++){a[i].classList.remove("js__input--error")}}bookingBtn.addEventListener("click",function(a){a.preventDefault();if(bookingFormClosed){bookingForm.classList.remove("js-booking__crawl--in");bookingForm.classList.add("js-booking__crawl--out");bookingFormClosed=false;if(storageArrival){if(storageDeparture){if(storageAdults){if(storageChildren){bookingArrival.focus()}}else{bookingAdults.focus()}}else{bookingDeparture.focus()}}else{bookingArrival.focus()}}else{bookingForm.classList.remove("js-booking__crawl--out");bookingForm.classList.add("js-booking__crawl--in");bookingFormClosed=true}});searchBtn.addEventListener("click",function(a){removeErrorsFromInputs(bookingFields);if(!bookingArrival.value||!bookingDeparture.value||!bookingAdults.value||(bookingAdults.value=="0")){a.preventDefault();if(!bookingArrival.value){bookingArrival.classList.add("js__input--error")}if(!bookingDeparture.value){bookingDeparture.classList.add("js__input--error")}if((!bookingAdults.value)||(bookingAdults.value=="0")){bookingAdults.classList.add("js__input--error")}if(bookingArrival.value>bookingDeparture.value){bookingArrival.classList.add("js__input--error");bookingDeparture.classList.add("js__input--error")}}else{removeErrorsFromInputs(bookingFields);if(isStorageSupport){localStorage.setItem("bookingArrival",bookingArrival.value);localStorage.setItem("bookingDeparture",bookingDeparture.value);localStorage.setItem("bookingAdults",bookingAdults.value);localStorage.setItem("bookingChildren",bookingChildren.value)}}});window.addEventListener("keydown",function(a){if(a.keyCode===27){a.preventDefault();if(!(bookingForm.classList.contains("js-booking__crawl--out"))){bookingForm.classList.remove("js-booking__crawl--out");bookingForm.classList.add("js-booking__crawl--in");bookingFormClosed=true}}});
